# クラス設計〜すべてにつながる設計の基盤〜

## プログラム構造の問題解決に役立つ設計パターン

設計パターンの例

| 設計パターン                 | 効果                                                         |
| ---------------------------- | ------------------------------------------------------------ |
| 完全コンストラクタ           | 不正状態から防護する                                         |
| 値オブジェクト               | 特定の値に関するロジックを高凝集にする                       |
| ストラテジ                   | 条件分岐を削減し、ロジックを単純化する                       |
| ポリシー                     | 条件分岐を単純化したり、カスタマイズできるようにする         |
| ファーストクラスコレクション | 値オブジェクトの亜種で、コレクションに関するロジックを高凝集にする |
| スプラウトクラス             | 既存のロジックを変更せずに安全に機能を追加する               |



### 完全コンストラクタ

- 不正状態から防護するための設計パターン
- インスタンス変数をすべて初期化できるだけの引数を持ったコンストラクタを用意する。
- コンストラクタ内では、ガード節で不正値を防ぐ
- このように設計することで、生成された段階で正常値だけを持つ、完全なインスタンスが生成される



### 値オブジェクト

- 値オブジェクトとは
  - 値をクラス(型)として表現する設計パターン
  - アプリケーションでは金額、日付、注文数、電話番号など、さまざまな値を扱う
  - こうした値をクラスとして表現することで、各値それぞれのロジックを高凝集にすることができる